<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Progression Niveau</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
      background: transparent;
      padding: 12px 16px;
    }
    .level-container {
      background: #4a4a4a;
      border-radius: 8px;
      padding: 12px 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }
    .level-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .level-text {
      color: #e0e0e0;
      font-size: 14px;
      font-weight: 500;
    }
    .level-number {
      color: #ffffff;
      font-size: 14px;
      font-weight: 600;
    }
    .bar-container {
      width: 100%;
      height: 12px;
      background: #2a2a2a;
      border-radius: 6px;
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
    }
    .bar-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #4a9eff, #357abd);
      border-radius: 6px;
      transition: width 1s ease-out;
      box-shadow: 0 0 8px rgba(74, 158, 255, 0.4);
    }
  </style>
</head>
<body>
  <div class="level-container">
    <div class="level-header">
      <span class="level-text" id="levelText">Paysan</span>
      <span class="level-number" id="levelNumber">Niveau 100</span>
    </div>
    <div class="bar-container">
      <div class="bar-fill" id="barFill"></div>
    </div>
  </div>

  <script>
    const XP_TABLE = [
      0,20,60,120,200,300,420,560,720,900,
      1100,1320,1560,1820,2100,2400,2720,3060,3420,3800,
      4220,4660,5120,5600,6100,14122,15315,16564,17873,19242,
      20672,22166,23726,25353,27048,28815,30656,32572,34566,36641,
      38800,41044,43378,45804,48325,50946,53669,56498,59437,62491,
      65664,68960,72385,75943,79640,83482,87475,91624,95937,100421,
      105082,109930,114971,120215,125671,131348,137256,143407,149811,156481,
      163429,170669,178214,186080,194283,202839,211765,221082,230808,240964,
      251574,262660,274248,286364,299037,312297,326175,340705,355924,371870,
      388582,406106,424486,443772,464016,485274,507604,531071,555741,581687
    ];

    // ðŸ”§ TEMPORAIRE â€” sera remplacÃ© par Notion API
    const totalXP = 3500;

    // Calcul du niveau
    let level = 1;
    for (let i = 0; i < XP_TABLE.length; i++) {
      if (totalXP >= XP_TABLE[i]) level = i + 1;
    }

    // Calcul de la progression
    const currentXP = totalXP - XP_TABLE[level - 1];
    const nextXP = level < XP_TABLE.length ? XP_TABLE[level] - XP_TABLE[level - 1] : 0;
    const percent = level >= 100 ? 100 : Math.min((currentXP / nextXP) * 100, 100);

    // Mise Ã  jour de l'interface
    document.getElementById("levelText").innerText = "Tufting";
    document.getElementById("levelNumber").innerText = `Niveau ${level}`;
    
    // Animation de la barre
    setTimeout(() => {
      document.getElementById("barFill").style.width = percent + "%";
    }, 100);
  </script>
</body>
</html>
